{% extends "base.html" %}
{% load core_tags %}

{% block title %}{{ project.title }} — GeoConsulting SARLU{% endblock %}

{% block content %}
{# -- Hero -- #}
<section class="bg-primary-700 py-16 text-white">
  <div class="mx-auto max-w-4xl px-4 text-center">
    <h1 class="mb-4 text-4xl font-bold">{{ project.title }}</h1>
    <div class="flex items-center justify-center gap-3">
      <span class="rounded-full bg-secondary-700 px-3 py-1 text-xs font-medium text-white">
        {{ project.get_category_display }}
      </span>
      <span class="rounded-full bg-primary-500 px-3 py-1 text-xs font-medium text-white">
        {{ project.get_status_display }}
      </span>
    </div>
  </div>
</section>

{# -- Breadcrumbs -- #}
<nav class="bg-gray-50 py-3" aria-label="Fil d'Ariane">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <ol class="flex items-center gap-2 text-sm text-gray-500">
      <li><a href="{% url 'home' %}" class="hover:text-primary-700">Accueil</a></li>
      <li><span aria-hidden="true">/</span></li>
      <li><a href="/projets/" class="hover:text-primary-700">Projets</a></li>
      <li><span aria-hidden="true">/</span></li>
      <li class="truncate text-primary-700" aria-current="page">{{ project.title }}</li>
    </ol>
  </div>
</nav>

{# -- Content -- #}
<section class="py-16">
  <div class="mx-auto max-w-7xl px-4 lg:px-8">
    <div class="grid gap-12 lg:grid-cols-3">

      {# Main content (2/3) #}
      <div class="lg:col-span-2">
        {% if project.image %}
        <img src="{{ project.image.url }}" alt="{{ project.title }}"
             class="mb-8 w-full rounded-lg object-cover shadow-sm">
        {% endif %}

        <div class="prose prose-lg max-w-none text-gray-700">
          {{ project.content|markdown }}
        </div>
      </div>

      {# Sidebar (1/3) #}
      <aside>
        <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
          <h3 class="mb-4 text-lg font-bold text-primary-700">Fiche projet</h3>
          <dl class="space-y-4 text-sm">
            <div>
              <dt class="font-medium text-gray-500">Catégorie</dt>
              <dd class="mt-1 text-gray-900">{{ project.get_category_display }}</dd>
            </div>
            <div>
              <dt class="font-medium text-gray-500">Statut</dt>
              <dd class="mt-1 text-gray-900">{{ project.get_status_display }}</dd>
            </div>
            {% if project.location %}
            <div>
              <dt class="font-medium text-gray-500">Localisation</dt>
              <dd class="mt-1 text-gray-900">{{ project.location }}</dd>
            </div>
            {% endif %}
            {% if project.client_name %}
            <div>
              <dt class="font-medium text-gray-500">Client</dt>
              <dd class="mt-1 text-gray-900">{{ project.client_name }}</dd>
            </div>
            {% endif %}
            {% if project.year %}
            <div>
              <dt class="font-medium text-gray-500">Année</dt>
              <dd class="mt-1 text-gray-900">{{ project.year }}</dd>
            </div>
            {% endif %}
          </dl>
        </div>

        <div class="mt-6">
          <a href="/projets/" class="inline-flex items-center gap-1 text-sm font-medium text-primary-700 hover:underline">
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            Retour aux projets
          </a>
        </div>
      </aside>
    </div>
  </div>
</section>
{% endblock %}
